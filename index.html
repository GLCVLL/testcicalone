<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SLAP! - Schiaffo Animato</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          "Helvetica Neue", Arial, sans-serif;
        overflow: hidden;
        position: relative;
      }

      .container {
        width: 100%;
        max-width: 1200px;
        height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        position: relative;
        padding: 20px;
      }

      .animation-area {
        position: relative;
        width: 100%;
        max-width: 800px;
        height: 400px;
        margin-bottom: 60px;
      }

      .photo {
        position: absolute;
        width: 200px;
        height: 200px;
        object-fit: cover;
        border-radius: 50%;
        border: 4px solid white;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        transition: all 0.3s ease;
      }

      .slapper {
        left: -250px;
        top: 50%;
        transform: translateY(-50%);
        z-index: 10;
      }

      .victim {
        right: 20%;
        top: 50%;
        transform: translateY(-50%);
      }

      /* Animazione slap */
      .slapper.slapping {
        animation: slap 2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      }

      @keyframes slap {
        0% {
          left: -250px;
          transform: translateY(-50%) rotate(0deg) scale(1);
        }
        50% {
          left: 50%;
          transform: translate(-50%, -50%) rotate(360deg) scale(1.1);
        }
        65% {
          left: 50%;
          transform: translate(-50%, -50%) rotate(380deg) scale(1.1);
        }
        100% {
          left: -250px;
          transform: translateY(-50%) rotate(720deg) scale(1);
        }
      }

      /* Animazione victim */
      .victim.getting-slapped {
        animation: shake 0.6s ease-in-out 1s;
      }

      @keyframes shake {
        0%,
        100% {
          transform: translateY(-50%) rotate(0deg);
        }
        10%,
        30%,
        50%,
        70%,
        90% {
          transform: translateY(-50%) translateX(-20px) rotate(-12deg);
        }
        20%,
        40%,
        60%,
        80% {
          transform: translateY(-50%) translateX(20px) rotate(12deg);
        }
      }

      /* Effetti speciali */
      .stars {
        position: absolute;
        right: 15%;
        top: 30%;
        font-size: 60px;
        opacity: 0;
        pointer-events: none;
      }

      .stars.show {
        animation: showStars 1.2s ease-out 1s;
      }

      @keyframes showStars {
        0% {
          opacity: 0;
          transform: scale(0) rotate(0deg);
        }
        50% {
          opacity: 1;
          transform: scale(1.5) rotate(180deg);
        }
        100% {
          opacity: 0;
          transform: scale(0.5) rotate(360deg);
        }
      }

      .impact-text {
        position: absolute;
        top: 10%;
        left: 50%;
        transform: translateX(-50%);
        font-size: 80px;
        font-weight: 900;
        color: #ffd700;
        text-shadow: 4px 4px 0px #ff6b6b, 8px 8px 20px rgba(0, 0, 0, 0.5);
        opacity: 0;
        pointer-events: none;
        letter-spacing: 5px;
      }

      .impact-text.show {
        animation: showImpact 1.2s ease-out 1s;
      }

      @keyframes showImpact {
        0% {
          opacity: 0;
          transform: translateX(-50%) scale(0) rotate(-15deg);
        }
        50% {
          opacity: 1;
          transform: translateX(-50%) scale(1.3) rotate(5deg);
        }
        100% {
          opacity: 0;
          transform: translateX(-50%) scale(0.8) rotate(0deg);
        }
      }

      /* Pulsante */
      .controls {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 15px;
        z-index: 100;
      }

      .slap-button {
        padding: 18px 50px;
        font-size: 28px;
        font-weight: bold;
        background: linear-gradient(135deg, #ff6b6b 0%, #ff5252 100%);
        color: white;
        border: none;
        border-radius: 60px;
        cursor: pointer;
        box-shadow: 0 8px 25px rgba(255, 107, 107, 0.4);
        transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        text-transform: uppercase;
        letter-spacing: 2px;
      }

      .slap-button:hover {
        transform: translateY(-3px) scale(1.05);
        box-shadow: 0 12px 35px rgba(255, 107, 107, 0.6);
        background: linear-gradient(135deg, #ff5252 0%, #ff4444 100%);
      }

      .slap-button:active {
        transform: translateY(0) scale(0.98);
        box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
      }

      .slap-button.animating {
        pointer-events: none;
        opacity: 0.7;
      }

      .subtitle {
        color: white;
        font-size: 16px;
        opacity: 0.9;
        text-align: center;
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        .animation-area {
          height: 300px;
          margin-bottom: 40px;
        }

        .photo {
          width: 140px;
          height: 140px;
          border: 3px solid white;
        }

        .slapper {
          left: -180px;
        }

        .victim {
          right: 15%;
        }

        @keyframes slap {
          0% {
            left: -180px;
            transform: translateY(-50%) rotate(0deg) scale(1);
          }
          50% {
            left: 45%;
            transform: translate(-50%, -50%) rotate(360deg) scale(1.1);
          }
          65% {
            left: 45%;
            transform: translate(-50%, -50%) rotate(380deg) scale(1.1);
          }
          100% {
            left: -180px;
            transform: translateY(-50%) rotate(720deg) scale(1);
          }
        }

        .stars {
          font-size: 40px;
          right: 10%;
        }

        .impact-text {
          font-size: 48px;
          top: 8%;
        }

        .slap-button {
          padding: 15px 40px;
          font-size: 22px;
        }

        .subtitle {
          font-size: 14px;
        }
      }

      @media (max-width: 480px) {
        .animation-area {
          height: 250px;
        }

        .photo {
          width: 110px;
          height: 110px;
        }

        .slapper {
          left: -140px;
        }

        @keyframes slap {
          0% {
            left: -140px;
            transform: translateY(-50%) rotate(0deg) scale(1);
          }
          50% {
            left: 40%;
            transform: translate(-50%, -50%) rotate(360deg) scale(1.1);
          }
          65% {
            left: 40%;
            transform: translate(-50%, -50%) rotate(380deg) scale(1.1);
          }
          100% {
            left: -140px;
            transform: translateY(-50%) rotate(720deg) scale(1);
          }
        }

        .stars {
          font-size: 32px;
        }

        .impact-text {
          font-size: 36px;
          letter-spacing: 2px;
        }

        .slap-button {
          padding: 12px 30px;
          font-size: 18px;
          letter-spacing: 1px;
        }

        .subtitle {
          font-size: 12px;
        }
      }

      @media (max-width: 360px) {
        .photo {
          width: 90px;
          height: 90px;
        }

        .impact-text {
          font-size: 28px;
        }

        .slap-button {
          padding: 10px 25px;
          font-size: 16px;
        }
      }

      /* Landscape mobile fix */
      @media (max-height: 600px) and (orientation: landscape) {
        .animation-area {
          height: 60vh;
          margin-bottom: 20px;
        }

        .photo {
          width: 100px;
          height: 100px;
        }

        .impact-text {
          font-size: 32px;
          top: 5%;
        }

        .slap-button {
          padding: 10px 30px;
          font-size: 18px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="animation-area">
        <img
          src="img/Screenshot 2025-11-27 181838.png"
          class="photo slapper"
          id="slapper"
          alt="Chi da lo schiaffo"
        />

        <img
          src="img/1763012788069_n.avif"
          class="photo victim"
          id="victim"
          alt="Chi riceve lo schiaffo"
        />

        <div class="stars" id="stars">‚≠êüí´‚ú®‚≠êüí•</div>
        <div class="impact-text" id="impactText">SLAP! üëã</div>
      </div>

      <div class="controls">
        <button class="slap-button" id="slapButton" onclick="startSlap()">
          SCHIAFFO! üëã
        </button>
        <p class="subtitle">Clicca per vedere l'azione!</p>
      </div>
    </div>

    <script>
      let isAnimating = false;

      function startSlap() {
        if (isAnimating) return;

        isAnimating = true;
        const slapper = document.getElementById("slapper");
        const victim = document.getElementById("victim");
        const stars = document.getElementById("stars");
        const impactText = document.getElementById("impactText");
        const button = document.getElementById("slapButton");

        // Disabilita pulsante
        button.classList.add("animating");

        // Reset animazioni
        slapper.classList.remove("slapping");
        victim.classList.remove("getting-slapped");
        stars.classList.remove("show");
        impactText.classList.remove("show");

        // Avvia animazioni
        setTimeout(() => {
          slapper.classList.add("slapping");
          victim.classList.add("getting-slapped");
          stars.classList.add("show");
          impactText.classList.add("show");
        }, 50);

        // Riabilita pulsante dopo l'animazione
        setTimeout(() => {
          isAnimating = false;
          button.classList.remove("animating");
        }, 2500);
      }

      // Animazione automatica all'apertura
      window.addEventListener("load", () => {
        setTimeout(startSlap, 500);
      });

      // Controlla se le immagini esistono, altrimenti usa placeholder
      function checkImages() {
        const slapper = document.getElementById("slapper");
        const victim = document.getElementById("victim");

        slapper.onerror = function () {
          this.src =
            "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Crect fill='%23ff6b6b' width='200' height='200'/%3E%3Ctext x='50%25' y='50%25' font-size='60' text-anchor='middle' dy='0.3em'%3Eüëä%3C/text%3E%3C/svg%3E";
        };

        victim.onerror = function () {
          this.src =
            "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Crect fill='%234CAF50' width='200' height='200'/%3E%3Ctext x='50%25' y='50%25' font-size='60' text-anchor='middle' dy='0.3em'%3Eüòµ%3C/text%3E%3C/svg%3E";
        };
      }

      checkImages();
    </script>
  </body>
</html>
